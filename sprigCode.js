/*
@title: Slap-a-Fish
@author: Ben Park
@tags: []
@addedOn: 2024-6-28
*/

//define constants and variables
const water1 = "1"
const water2 = "2"
const hole = "h"
const fish = "f"
const rareFish = "F"
const diagram1 = "d"
const diagram2 = "i"
const diagram3 = "a"
const diagram4 = "g"
let highScore = 0
let currentScore = 0
let GAME_STATE = "menu"
setLegend(
  [ water1, bitmap`
5555555555555555
5555555555555555
5555557555555555
5577775755555555
5575555577555555
5775555557755555
7555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555577555
5555555577777775
5555555775555577
5555555555555555
5555555555555555
5555555555555555`],
  [ water2, bitmap`
5555555555555555
5555555557777755
5555555577555755
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5557775555555555
5577577755555555
5775555755555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555
5555555555555555`],
  [ hole, bitmap`
5555555555555555
5555777557555555
5577555555575555
5555777777755555
5577755577777755
5777555555557755
5555000000005575
7750000000000575
5750000000000575
5555000000005555
5575555555555555
5557775557777555
5575577755555555
5557555557777755
5555777777555555
5555555555555555`],
  [ diagram1, bitmap`
................
..LLLLLLLLLLLLLL
.LL.............
.L..............
.L.........00000
.L...33....00000
.L...33....00000
.L.77..44..00000
.L.77..44..00000
.L...66....00000
.L...66....00000
.L.........00000
.L..............
.LL.............
..LLLLLLLLLLLLLL
................`],
  [ diagram2, bitmap`
................
LLLLLLLLLLLLLL..
.............LL.
..............L.
00000.........L.
00000....55...L.
00000....55...L.
00000..99..88.L.
00000..99..88.L.
00000....DD...L.
00000....DD...L.
00000.........L.
..............L.
.............LL.
LLLLLLLLLLLLLL..
................`],
  [ diagram3, bitmap`
................
................
............3333
............3333
............3333
............3333
........77779999
........77779999
........77779999
........77779999
............6666
............6666
............6666
............6666
................
................`],
  [diagram4, bitmap`
................
................
5555............
5555............
5555............
5555............
44448888........
44448888........
44448888........
44448888........
DDDD............
DDDD............
DDDD............
DDDD............
................
................`],
)

//define levels

let level = 0
const levels = [
  map`
......
..di..
..ag..
......`,
  map`
121212
21hh21
1hhhh2
21hh21
121212`
]

//function to set up start menu

function goToMenu(){
setMap(levels[0])
addText("Slap-a-Fish", {
  x: 5,
  y: 2,
  color: color`5`
})
addText("controls:", {
  x: 1,
  y: 3,
  color: color`0`
})
addText("Press 'l' to start", {
  x: 1,
  y: 13,
  color: color`1`
})
addText("High Score: " + highScore, {
  x: 1,
  y: 12,
  color: color`0`
})
}
goToMenu()
//starting game on l input

onInput("l", () => {
  console.log("l was pressed")
  if(GAME_STATE == "menu"){
    GAME_STATE == "playing"
    clearText()
    let level = 1
    setMap(levels[level])
    addText("Score: " + currentScore, {
      x: 6,
      y: 1,
      color: color`2`
    })
    }
})
